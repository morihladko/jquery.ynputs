(function(a){function b(d,c){if(c.is(":checked")){d.addClass("unchecked").removeClass("checked");c.prop("checked",false)}else{d.addClass("checked").removeClass("unchecked");c.prop("checked",true)}}a.fn.cekbox=function(){return a(this).each(function(){var c=a(this);if(!c.is('input[type="checkbox"]')){return}c.hide();if(!c.prop("tabindex")){c.prop("tabindex",0)}var d=a("<span class='cekbox' />").prop("tabindex",c.prop("tabindex"));if(c.is(":checked")){d.addClass("checked")}else{d.addClass("unchecked")}c.after(d);d.click(function(e){b(d,c);e.preventDefault()}).keydown(function(e){if(e.keyCode==32){b(d,c);e.preventDefault()}});c.change(function(){if(c.is(":checked")&&d.is(":not(.checked)")){d.addClass("checked").removeClass("unchecked")}else{if(c.is(":not(:checked)")&&d.is(":not(.unchecked)")){d.addClass("unchecked").removeClass("checked")}}})})}})(jQuery);